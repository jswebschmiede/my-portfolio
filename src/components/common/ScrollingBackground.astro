---
// Props für die Komponente
interface Props {
  imageUrl: string; // URL des Hintergrundbildes
  height?: string; // Optional: Höhe des Containers (default: 400px)
  speed?: number; // Optional: Geschwindigkeit der Animation (default: 20s)
  alt: string; // Alternativer Text für Accessibility
}

const { imageUrl, height = "400px", speed = 20, alt } = Astro.props;
---

<div
  class="scrolling-background-container overflow-hidden relative"
  style={`height: ${height};`}
  role="img"
  aria-label={alt}
>
  <div class="scrolling-background absolute w-full" style={`background-image: url(${imageUrl});`}>
  </div>
</div>

<style define:vars={{ animationDuration: `${speed}s` }}>
  .scrolling-background-container {
    width: 100%;
  }

  .scrolling-background {
    height: 1200%; /* Doppelte Höhe für nahtloses Scrollen */
    background-size: contain;
    background-position: left top;
    background-repeat: no-repeat;
    animation: scrollBackground var(--animationDuration) linear infinite;
  }

  @keyframes scrollBackground {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(-50%); /* Bewegt sich um die Hälfte nach oben */
    }
  }
</style>
